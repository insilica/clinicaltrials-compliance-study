schema: '2.0'
stages:
  download-20170105:
    cmd: stages/01_download_db_20170105.sh
    deps:
    - path: stages/01_download_db_20170105.sh
      hash: md5
      md5: 6369e51a35200af74e8359122d1afa11
      size: 500
    outs:
    - path: download/aact/db-dump/20170105_clinical_trials.zip
      hash: md5
      md5: 54550221d6d2f728b5df64ea40078b2b
      size: 639987071
  download-20240430:
    cmd: stages/01_download_db_20240430.sh
    deps:
    - path: stages/01_download_db_20240430.sh
      hash: md5
      md5: 0f380d067cb2eeab31c97253811e9fb5
      size: 412
    outs:
    - path: download/aact/db-dump/20240430_clinical_trials.zip
      hash: md5
      md5: dd7dd067786f58bbd6cd43758fc1a3da
      size: 1831128430
  download-paper-data:
    cmd: stages/01_download_paper_data.sh
    deps:
    - path: stages/01_download_paper_data.sh
      hash: md5
      md5: 9cbfcb140a15b9b54101639dff6653e0
      size: 524
    outs:
    - path: download/anderson2015
      hash: md5
      md5: 0f627e15c08e5ec23c2eabe0ad574d25.dir
      size: 4199399
      nfiles: 2
  build-paper-data:
    cmd: stages/02_build-anderson2015.sh
    deps:
    - path: download/anderson2015
      hash: md5
      md5: 0f627e15c08e5ec23c2eabe0ad574d25.dir
      size: 4199399
      nfiles: 2
    - path: stages/02_build-anderson2015.sh
      hash: md5
      md5: 0942894b0d5b0d180db7a7deecc38f64
      size: 464
    - path: stages/csv2parquet.py
      hash: md5
      md5: 7ad66f7287f06705bbbd11fd0791ad63
      size: 1260
    outs:
    - path: brick/anderson2015
      hash: md5
      md5: 1395cc31b50eca34bf0a57f5a4ed9d0f.dir
      size: 1387361
      nfiles: 4
  download-cthist-json:
    cmd: stages/01_download_cthist_json.sh
    deps:
    - path: brick/anderson2015
      hash: md5
      md5: 1395cc31b50eca34bf0a57f5a4ed9d0f.dir
      size: 1387361
      nfiles: 4
    - path: download/aact/db-dump/20240430_clinical_trials.zip
      hash: md5
      md5: dd7dd067786f58bbd6cd43758fc1a3da
      size: 1831128430
    - path: stages/01_download_cthist_json.sh
      hash: md5
      md5: 99f8c65538e53bb6c590abf21f823fb5
      size: 824
    - path: stages/fetch-cthist-json.pl
      hash: md5
      md5: e9cc9af2851ee15b912f6658d4d38752
      size: 12768
    outs:
    - path: download/ctgov/historical
      hash: md5
<<<<<<< HEAD
      md5: 9c8ee6341ae827ba661a6d0c40553798.dir
      size: 1922339323
      nfiles: 152604
  build-ctgov-studies-all@anderson2015_2008-2012:
    cmd:
    - mkdir -p $(dirname brick/analysis-20130927/ctgov-studies-all.parquet)
    - script/tt-render-by-param anderson2015_2008-2012 sql/create_cthist_all.sql |
      duckdb
    deps:
    - path: sql/create_cthist_all.sql
      hash: md5
      md5: 200b9bee2aebe6837c4b71a55aab9e45
      size: 7392
    outs:
    - path: brick/analysis-20130927/ctgov-studies-all.parquet
      hash: md5
      md5: 82b534f103d26a2786e6fa237f47310e
      size: 5037858
  build-ctgov-studies-all@stanford_2019-2023:
    cmd:
    - mkdir -p $(dirname brick/analysis-20240430/ctgov-studies-all.parquet)
    - script/tt-render-by-param stanford_2019-2023 sql/create_cthist_all.sql | duckdb
    deps:
    - path: sql/create_cthist_all.sql
      hash: md5
      md5: 200b9bee2aebe6837c4b71a55aab9e45
      size: 7392
    outs:
    - path: brick/analysis-20240430/ctgov-studies-all.parquet
      hash: md5
      md5: 82b534f103d26a2786e6fa237f47310e
      size: 5037858
  build-ctgov-studies-hlact-filtered@anderson2015_2008-2012:
    cmd:
    - make docker-compose-up
    - mkdir -p $(dirname brick/analysis-20130927/ctgov-studies-hlact.parquet)
    - . .env; script/tt-render-by-param anderson2015_2008-2012 sql/create_cthist_hlact.sql
      | duckdb
    deps:
    - path: brick/analysis-20130927/ctgov-studies-all.parquet
      hash: md5
      md5: 82b534f103d26a2786e6fa237f47310e
      size: 5037858
    - path: download/aact/db-dump/20240430_clinical_trials.zip
      hash: md5
      md5: dd7dd067786f58bbd6cd43758fc1a3da
      size: 1831128430
    - path: sql/create_cthist_hlact.sql
      hash: md5
      md5: fed677719b9670a0867294f492635454
      size: 4210
    outs:
    - path: brick/analysis-20130927/ctgov-studies-hlact.parquet
      hash: md5
      md5: 271229bd8d48f3f291f08e7301470bc1
      size: 863338
  build-ctgov-studies-hlact-filtered@stanford_2019-2023:
    cmd:
    - make docker-compose-up
    - mkdir -p $(dirname brick/analysis-20240430/ctgov-studies-hlact.parquet)
    - . .env; script/tt-render-by-param stanford_2019-2023 sql/create_cthist_hlact.sql
      | duckdb
    deps:
    - path: brick/analysis-20240430/ctgov-studies-all.parquet
      hash: md5
      md5: 82b534f103d26a2786e6fa237f47310e
      size: 5037858
    - path: download/aact/db-dump/20240430_clinical_trials.zip
      hash: md5
      md5: dd7dd067786f58bbd6cd43758fc1a3da
      size: 1831128430
    - path: sql/create_cthist_hlact.sql
      hash: md5
      md5: fed677719b9670a0867294f492635454
      size: 4210
    outs:
    - path: brick/analysis-20240430/ctgov-studies-hlact.parquet
      hash: md5
      md5: 40c229f5201eb47841bd6184b6b36f93
      size: 10772
=======
      md5: c920d855e9b65a50f913295329fc9cbb.dir
      size: 9443877912
      nfiles: 492953
>>>>>>> 10d8581 (Update dvc.lock)
